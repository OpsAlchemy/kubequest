Vagrant.configure("2") do |config|
  config.vm.box = "generic/ubuntu2204"

  config.vm.provider :libvirt do |lv|
    lv.cpus = 2
    lv.memory = 2048
  end

  # master
  config.vm.define "master" do |m|
    m.vm.hostname = "master"
    m.vm.network :private_network, ip: "192.168.121.10"
    m.vm.provision "shell", inline: "apt-get update -y"
  end

  # worker
  config.vm.define "worker" do |w|
    w.vm.hostname = "worker"
    w.vm.network :private_network, ip: "192.168.121.11"
    w.vm.provision "shell", inline: "apt-get update -y"
  end
end

