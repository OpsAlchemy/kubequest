apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Base resources - replaces deprecated 'bases' field
resources:
- ../../base

namespace: dev
namePrefix: dev-

# Deprecated: use 'labels' instead of 'commonLabels' in newer versions
# For now, commonLabels works but generates a deprecation warning

patches:
- path: patches/deployment-patch.yaml
  target:
    kind: Deployment
    name: node-api
labels:
- includeSelectors: true
  pairs:
    env: dev
