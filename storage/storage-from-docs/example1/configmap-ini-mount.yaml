apiVersion: v1
kind: ConfigMap
metadata:
  name: app-config
data:
  config.ini: |
    log_level=DEBUG
    db_host=127.0.0.1
    max_retries=5
---
apiVersion: v1
kind: Pod
metadata:
  name: ini-reader
spec:
  containers:
    - name: app
      image: busybox
      command: ['sh', '-c', 'cat /etc/app/config.ini && sleep 3600']
      volumeMounts:
        - name: config-volume
          mountPath: /etc/app
  volumes:
    - name: config-volume
      configMap:
        name: app-config

